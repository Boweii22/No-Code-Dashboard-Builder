/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const U=require("react"),n=require("prop-types"),G=require("./PagerNumericButtons.js"),H=require("./PagerInput.js"),J=require("./PagerPageSizes.js"),Q=require("@progress/kendo-react-buttons"),e=require("../messages/index.js"),v=require("@progress/kendo-react-intl"),r=require("@progress/kendo-react-common"),u=require("@progress/kendo-svg-icons"),X=require("../package-metadata.js");function Y(h){const g=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(h){for(const s in h)if(s!=="default"){const t=Object.getOwnPropertyDescriptor(h,s);Object.defineProperty(g,s,t.get?t:{enumerable:!0,get:()=>h[s]})}}return g.default=h,Object.freeze(g)}const p=Y(U),B=600,Z=768,M=class M extends p.Component{constructor(g){super(g),this._element=null,this.onPageChange=(s,t)=>{const i={target:this,syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,targetEvent:t,...s};this.props.onPageChange&&this.props.onPageChange.call(void 0,i)},this.changePage=(s,t)=>{this.props.onPageChange&&s>0&&s<=this.totalPages&&this.props.onPageChange({target:this,skip:(s-1)*this.props.take,take:this.props.take,syntheticEvent:t,nativeEvent:t.nativeEvent,targetEvent:t})},this.onWindowResize=()=>{const s=this.element;if(!s||!this.props.responsive)return;const t=s.offsetWidth;t<B?this.setState({showPagerSizes:!1}):t>=B&&t<Z?this.setState({showPagerInfo:!1,showPagerSizes:!0}):this.setState({showPagerInfo:!0,showPagerSizes:!0})},this.onKeyDown=s=>{const t=this.element,i=s.keyCode;!t||!this.props.navigatable||((i===r.Keys.home||s.metaKey&&i===r.Keys.left)&&this.changePage(1,s),(i===r.Keys.end||s.metaKey&&i===r.Keys.right)&&this.changePage(this.totalPages,s),document.activeElement===t?(i===r.Keys.enter&&(r.focusFirstFocusableChild(t),r.enableNavigatableContainer(t)),(i===r.Keys.left||i===r.Keys.up)&&this.changePage(this.currentPage-1,s),(i===r.Keys.right||i===r.Keys.down)&&this.changePage(this.currentPage+1,s)):(i===r.Keys.esc&&(t.focus(),r.disableNavigatableContainer(t)),r.keepFocusInContainer(s,t,r.TABBABLE_ELEMENTS)))},r.validatePackage(X.packageMetadata),this.state={showPagerSizes:!0,showPagerInfo:!0,innerNavigateActive:!1}}get isRtl(){return this.props.dir==="rtl"}get currentPage(){return Math.floor(this.props.skip/this.props.take)+1}get element(){return this._element}componentDidMount(){window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}render(){const{showPagerSizes:g,showPagerInfo:s}=this.state,{skip:t,take:i,total:d,pageSizes:m,size:c,responsive:b,messagesMap:a,dir:x,style:_,pageSizeValue:D,previousNext:F,className:j,navigatable:P}=this.props,l=v.provideLocalizationService(this),K=v.provideIntlService(this),o=this.currentPage,W=this.props.type==="numeric"?p.createElement(G.PagerNumericButtons,{type:b&&!g?"dropdown":"numbers",buttonCount:this.props.buttonCount||0,totalPages:this.totalPages,currentPage:this.currentPage,pageChange:this.changePage,messagesMap:this.props.messagesMap,size:c,navigatable:P}):p.createElement(H.PagerInput,{buttonCount:this.props.buttonCount||0,totalPages:this.totalPages,currentPage:o,pageChange:this.changePage,messagesMap:a,size:c,navigatable:P}),S=a?a(e.pagerFirstPage):{messageKey:e.pagerFirstPage,defaultMessage:e.messages[e.pagerFirstPage]},k=a?a(e.pagerPreviousPage):{messageKey:e.pagerPreviousPage,defaultMessage:e.messages[e.pagerPreviousPage]},R=a?a(e.pagerNextPage):{messageKey:e.pagerNextPage,defaultMessage:e.messages[e.pagerNextPage]},I=a?a(e.pagerLastPage):{messageKey:e.pagerLastPage,defaultMessage:e.messages[e.pagerLastPage]},z=a?a(e.pagerInfo):{messageKey:e.pagerInfo,defaultMessage:e.messages[e.pagerInfo]},E=a?a(e.pagerAriaKeyshortcuts):{messageKey:e.pagerAriaKeyshortcuts,defaultMessage:e.messages[e.pagerAriaKeyshortcuts]},w=a?a(e.pagerPage):{messageKey:e.pagerPage,defaultMessage:e.messages[e.pagerPage]},C=a?a(e.pagerOf):{messageKey:e.pagerOf,defaultMessage:e.messages[e.pagerOf]},y=a?a(e.pagerTotalPages):{messageKey:e.pagerTotalPages,defaultMessage:e.messages[e.pagerTotalPages]},$=`${l.toLanguageString(w.messageKey,w.defaultMessage)} ${K.format(l.toLanguageString(y.messageKey,y.defaultMessage),[o])} ${l.toLanguageString(C.messageKey,C.defaultMessage)} ${K.format(l.toLanguageString(y.messageKey,y.defaultMessage),[this.totalPages])}`;let L,N,A,O;F&&(L=this.renderButton(1,"k-pager-nav k-pager-first"+(o===1?" k-disabled":""),l.toLanguageString(S.messageKey,S.defaultMessage),this.isRtl?"caret-alt-to-right":"caret-alt-to-left",this.isRtl?u.caretAltToRightIcon:u.caretAltToLeftIcon,o===1?!0:void 0),N=this.renderButton(o-1,"k-pager-nav"+(o===1?" k-disabled":""),l.toLanguageString(k.messageKey,k.defaultMessage),this.isRtl?"caret-alt-right":"caret-alt-left",this.isRtl?u.caretAltRightIcon:u.caretAltLeftIcon,o===1?!0:void 0),A=this.renderButton(o+1,"k-pager-nav"+(o>=this.totalPages?" k-disabled":""),l.toLanguageString(R.messageKey,R.defaultMessage),this.isRtl?"caret-alt-left":"caret-alt-right",this.isRtl?u.caretAltLeftIcon:u.caretAltRightIcon,o>=this.totalPages?!0:void 0),O=this.renderButton(this.totalPages,"k-pager-nav k-pager-last"+(o>=this.totalPages?" k-disabled":""),l.toLanguageString(I.messageKey,I.defaultMessage),this.isRtl?"caret-alt-to-left":"caret-alt-to-right",this.isRtl?u.caretAltToLeftIcon:u.caretAltToRightIcon,o>=this.totalPages?!0:void 0));const T=m&&p.createElement(J.PagerPageSizes,{pageChange:this.onPageChange,pageSize:i,pageSizes:m,value:D,messagesMap:a,size:c,navigatable:P}),q=this.props.info&&p.createElement("span",{className:"k-pager-info"},K.format(l.toLanguageString(z.messageKey,z.defaultMessage),[Math.min(t+1,d),Math.min(t+i,d),d]));return p.createElement("div",{className:r.classNames("k-pager",{[`k-pager-${r.kendoThemeMaps.sizeMap[c]||c}`]:c},j),style:_,role:"application","aria-roledescription":"pager",dir:x,"aria-keyshortcuts":l.toLanguageString(E.messageKey,E.defaultMessage),"aria-label":$,ref:V=>this._element=V,tabIndex:P?0:void 0,onKeyDown:this.onKeyDown},p.createElement("div",{className:r.classNames("k-pager-numbers-wrap")},L,N,W,A,O),b?g&&T:T,b?s&&q:q)}renderButton(g,s,t,i,d,m){return p.createElement(Q.Button,{fillMode:"flat",themeColor:"base",size:this.props.size,rounded:null,className:s,icon:i,svgIcon:d,title:t,role:"button","aria-disabled":m,tabIndex:this.props.navigatable?-1:void 0,onClick:c=>{c.preventDefault(),this.changePage(g,c)}})}get totalPages(){return Math.ceil((this.props.total||0)/this.props.take)}};M.propTypes={className:n.string,style:n.object,total:n.number.isRequired,skip:n.number.isRequired,take:n.number.isRequired,buttonCount:n.number,info:n.bool,type:n.oneOf(["numeric","input"]),pageSizes:n.arrayOf(n.oneOfType([n.string,n.number])),previousNext:n.bool,onPageChange:n.func,messagesMap:n.func,size:n.oneOf([null,"small","medium","large"]),dir:n.string},M.defaultProps={buttonCount:10,info:!0,type:"numeric",size:"medium"};let f=M;v.registerForIntl(f);v.registerForLocalization(f);exports.Pager=f;
