/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const S=require("@progress/kendo-react-common"),A=require("./constants.js"),F="items",x={},b=(e,t)=>!e||Array.isArray(e)&&e.length===0?[t]:e.findIndex(o=>o===t)>-1?e.filter(o=>o!==t):[...e,t],G=e=>{let t=e;for(;t;){if(t.hasAttribute(A.TABLE_PREVENT_SELECTION_ELEMENT))return!0;t=t.parentElement}return!1},v=(e,t)=>{let n=e;for(;n;){if(n.tagName===t)return n;if(n.tagName==="TABLE")return null;n=n.parentElement}return null},N=e=>{if(!e)return;const t=e.getAttribute(A.TABLE_ROW_INDEX_ATTRIBUTE);return t?parseInt(t,10):void 0},K=e=>{if(!e)return;const t=e.getAttribute(A.TABLE_COL_INDEX_ATTRIBUTE);return t?parseInt(t,10):void 0},U=e=>{const t=e.subItemsField||F,n=S.getter(e.dataItemKey);return S.mapTree(e.data,t,o=>S.extendDataItem(o,t,{[e.selectedField]:e.selectedState[n(o)]}))},k=e=>{const{event:t,dataItemKey:n,selectedState:o}=e,{syntheticEvent:a,nativeEvent:s,dataItems:g,componentId:c,mode:f,cell:E,selectedField:C}=t,{target:T,ctrlKey:y,metaKey:p,altKey:i,shiftKey:R}=s;if(a.isDefaultPrevented()||s.keyCode!==S.Keys.enter)return o;const D=v(T,"TD"),I=v(T,"TR"),r=K(D),u=N(I);let d={};return D&&I&&u!==void 0&&r!==void 0&&(d=L({selectedState:o,dataItemKey:n,event:{ctrlKey:y,metaKey:p,altKey:i,shiftKey:R,dataItems:g,cell:E,mode:f,selectedField:C,componentId:c,startColIndex:r,endColIndex:r,startRowIndex:u,endRowIndex:u,isDrag:!1,syntheticEvent:a,nativeEvent:s,target:t.target,dataItem:null}})),d},L=e=>{const{event:t,dataItemKey:n,selectedState:o}=e,{dataItems:a,startRowIndex:s,endRowIndex:g,startColIndex:c,endColIndex:f,cell:E,isDrag:C,ctrlKey:T,shiftKey:y,metaKey:p,componentId:i,mode:R,dataItem:D}=t,I=S.getter(n);let r={};const u=D!==null;if(R==="single"){const d=a.slice(s,s+1)[0],m=I(d);x[i]={rowIndex:s,colIndex:c},r[m]=E?[c]:!0}else if(C||!y&&!T&&!p&&!u){C||(x[i]={rowIndex:s,colIndex:c});const d=[];for(let l=c;l<=f;l++)d.push(l);a.slice(s,g+1).forEach(l=>{const h=I(l);r[h]=E?[...d]:!0})}else if(T||p||u){x[i]={rowIndex:s,colIndex:c};const m=a.slice(s,g+1)[0],l=I(m);r={...o},r[l]=E&&!u?b(r[l],c):!r[l]}else if(y){const d=x[i]&&x[i].rowIndex||0,m=x[i]&&x[i].colIndex||0,l=Math.min(d,s,g),h=Math.max(d,s,g),O=Math.min(m,c,f),B=Math.max(m,c,f),_=[];for(let w=O;w<=B;w++)_.push(w);a.slice(l,h+1).forEach(w=>{const M=I(w);r[M]=E?[..._]:!0})}return r},X=S.hasRelativeStackingContext(),q=e=>{if(!e||!X)return null;let t=e.parentElement;for(;t;){if(window.getComputedStyle(t).transform!=="none")return t;t=t.parentElement}},V=e=>{if(e&&e.ownerDocument&&e!==e.ownerDocument.body){const t=e.getBoundingClientRect();return{left:t.left-e.scrollLeft,top:t.top-e.scrollTop}}return{left:0,top:0}},j=e=>{const t=e?typeof e.enabled=="boolean"?e.enabled:!0:!1,n=e?!!e.drag:!1,o=e&&e.mode?e.mode:"multiple",a=!!(e&&e.cell);return{enabled:t,drag:n,mode:o,cell:a}};exports.closestTagName=v;exports.getColumnIndex=K;exports.getOffset=V;exports.getRowIndex=N;exports.getSelectedState=L;exports.getSelectedStateFromKeyDown=k;exports.getSelectionOptions=j;exports.isInNonSelectable=G;exports.relativeContextElement=q;exports.setSelectedState=U;
