/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const A=require("react"),P=require("react-dom"),t=require("prop-types"),_=require("./DialogTitleBar.js"),u=require("./DialogActionsBar.js"),n=require("@progress/kendo-react-common"),g=require("./package-metadata.js"),N=require("./utils.js"),c=require("./constants.js");function m(r){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const e in r)if(e!=="default"){const a=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(s,e,a.get?a:{enumerable:!0,get:()=>r[e]})}}return s.default=r,Object.freeze(s)}const o=m(A),S=m(P),i=class i extends o.Component{constructor(s){super(s),this.context=0,this.titleId=this.generateTitleId(),this.contentId=this.generateContentId(),this.showLicenseWatermark=!1,this.onCloseDialog=e=>{e.preventDefault(),n.dispatchEvent(this.props.onClose,e,this,void 0)},this.onKeyDown=e=>{e.keyCode===n.Keys.esc&&this.props.onClose&&(e.preventDefault(),this.onCloseDialog(e)),n.keepFocusInContainer(e,this.element)},this.getCurrentZIndex=()=>!this.state||this.context===void 0?this.context?this.context:c.DEFAULT_DIALOGS_ZINDEX:this.state.zIndex>(this.context?this.context+c.ZINDEX_DIALOGS_STEP:0)?this.state.zIndex:this.context+c.ZINDEX_DIALOGS_STEP,this.getDocument=()=>this.props.appendTo?this.props.appendTo.ownerDocument:document,n.validatePackage(g.packageMetadata),this.showLicenseWatermark=n.shouldShowValidationUI(g.packageMetadata)}get _id(){return this.props.id+"-accessibility-id"}componentDidMount(){this.element&&(this.props.autoFocus&&this.element.focus(),this.setState({zIndex:N.getMaxZIndex(this.getCurrentZIndex(),this.getDocument(),this._id)}))}render(){const s=this.props.id!==void 0?this.props.id:this.titleId,{title:e,width:a,height:D,children:f,minWidth:b,dir:x,style:C,contentStyle:k}=this.props,d=o.Children.toArray(f),w=this.getContent(d),T=this.getActionBar(d),O=e?{"aria-labelledby":s}:null,E=this.props.closeIcon!==void 0?this.props.closeIcon:!0,p=this.getCurrentZIndex(),h=o.createElement(n.ZIndexContext.Provider,{value:p},o.createElement("div",{[c.DATA_DIALOGS_ID]:this._id,className:"k-dialog-wrapper"+(this.props.className?" "+this.props.className:""),onKeyDown:this.onKeyDown,tabIndex:0,dir:x,style:{zIndex:p,...C},ref:v=>this.element=v},o.createElement("div",{className:"k-overlay"}),o.createElement("div",{...O,className:n.classNames("k-window k-dialog",{[`k-window-${this.props.themeColor}`]:this.props.themeColor}),role:"dialog","aria-labelledby":s,"aria-modal":!0,"aria-describedby":this.contentId,style:{width:a,height:D,minWidth:b}},this.props.title&&o.createElement(_.DialogTitleBar,{closeIcon:E,onCloseButtonClick:this.onCloseDialog,id:s},e),o.createElement("div",{className:"k-window-content k-dialog-content",style:k,id:this.contentId},w),T,this.showLicenseWatermark&&o.createElement(n.WatermarkOverlay,null))));return n.canUseDOM?this.props.appendTo!==null?S.createPortal(h,this.props.appendTo||document.body):h:null}getActionBar(s){return s.filter(e=>e&&e.type===u.DialogActionsBar)}getContent(s){return s.filter(e=>e&&e.type!==u.DialogActionsBar)}generateTitleId(){return"dialog-title-"+this._id}generateContentId(){return"dialog-content-"+this._id}};i.displayName="Dialog",i.propTypes={title:t.any,id:t.string,dir:t.string,style:t.object,closeIcon:t.bool,width:t.oneOfType([t.number,t.string]),height:t.oneOfType([t.number,t.string]),minWidth:t.oneOfType([t.number,t.string]),autoFocus:t.bool},i.defaultProps={autoFocus:!1},i.contextType=n.ZIndexContext;let l=i;const y=n.createPropsContext(),I=n.withIdHOC(n.withPropsContext(y,l));I.displayName="KendoReactDialog";exports.Dialog=I;exports.DialogPropsContext=y;
