/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const j=require("react"),l=require("prop-types"),m=require("@progress/kendo-react-common"),d=require("@progress/kendo-react-buttons"),h=require("@progress/kendo-svg-icons"),_=require("./ColorPalette.js"),z=require("./ColorGradient.js"),D=require("../package-metadata.js"),H=require("@progress/kendo-react-intl"),n=require("../messages/index.js");function A(e){const v=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(v,o,r.get?r:{enumerable:!0,get:()=>e[o]})}}return v.default=e,Object.freeze(v)}const t=A(j),S="rgba(255, 255, 255, 1)",y=t.forwardRef((e,v)=>{m.validatePackage(D.packageMetadata);const o=t.useRef(null),r=t.useRef(null),G=t.useRef(null),{defaultValue:s=S,showButtons:k=!0,showPreview:R=!0,showClearButton:q=!0}=e,[u,L]=t.useState((e.view||"ColorGradient")==="ColorGradient"),[c,g]=t.useState(e.value||s),[C,b]=t.useState(e.value||s),E=e.value!==void 0?e.value:C;t.useEffect(()=>{g(e.value||s)},[e.value,s]);const f=H.useLocalization(),P=t.useCallback(()=>{o.current&&o.current.focus()},[o]);t.useImperativeHandle(o,()=>({element:r.current,focus:P,props:e,value:E}),[E,P,e]),t.useImperativeHandle(v,()=>o.current);const w=t.useCallback(a=>{(a==="ColorGradient"&&!u||a==="ColorPalette"&&u)&&L(!u)},[u]),x=t.useCallback(a=>{if(g(s),e.onPreviewChange){const i={value:s,nativeEvent:a.nativeEvent,syntheticEvent:a};e.onPreviewChange.call(void 0,i)}},[s,e.onPreviewChange]),B=t.useCallback(a=>{if(g(a.value),e.onPreviewChange){const i={value:a.value,nativeEvent:a.nativeEvent,syntheticEvent:a.syntheticEvent};e.onPreviewChange.call(void 0,i)}},[e.onPreviewChange]),F=t.useCallback(a=>{if(b(c),e.onChange){const i={value:c,nativeEvent:a.nativeEvent,syntheticEvent:a};e.onChange.call(void 0,i)}},[c,e.onChange]),M=t.useCallback(()=>{b(S)},[]),T=t.useCallback(a=>{if(g(C),e.onPreviewChange){const i={value:C,nativeEvent:a.nativeEvent,syntheticEvent:a};e.onPreviewChange.call(void 0,i)}},[C,e.onPreviewChange]),N=t.useCallback(a=>{r.current&&!(a.nativeEvent.target instanceof HTMLInputElement)&&r.current.focus()},[r]),V=t.useCallback(a=>{var I;if((!a.relatedTarget||!((I=r.current)!=null&&I.contains(a.relatedTarget)))&&(k||b(c),!k&&e.onChange)){const O={value:c,nativeEvent:a.nativeEvent,syntheticEvent:a};e.onChange.call(void 0,O)}},[c,k,e.onChange]);return t.createElement("div",{id:e.id,role:"textbox","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledBy,"aria-disabled":e.disabled?"true":void 0,style:e.style,ref:r,tabIndex:m.getTabIndex(e.tabIndex,e.disabled),className:m.classNames("k-flatcolorpicker k-coloreditor",{"k-disabled":e.disabled},e.className),onBlur:V},t.createElement(t.Fragment,null,e.header||t.createElement("div",{className:"k-coloreditor-header k-hstack"},t.createElement("div",{className:"k-coloreditor-header-actions k-hstack"},t.createElement(d.ButtonGroup,{className:"k-button-group-flat"},t.createElement(d.Button,{type:"button","aria-label":f.toLanguageString(n.flatColorPickerColorGradientBtn,n.messages[n.flatColorPickerColorGradientBtn]),togglable:!0,fillMode:"flat",selected:u,onClick:()=>w("ColorGradient"),icon:"droplet-slider",svgIcon:h.dropletSliderIcon}),t.createElement(d.Button,{type:"button","aria-label":f.toLanguageString(n.flatColorPickerColorPaletteBtn,n.messages[n.flatColorPickerColorPaletteBtn]),togglable:!0,fillMode:"flat",selected:!u,onClick:()=>w("ColorPalette"),icon:"palette",svgIcon:h.paletteIcon}))),t.createElement("div",{className:"k-spacer"}),t.createElement("div",{className:"k-coloreditor-header-actions k-hstack"},q&&t.createElement(d.Button,{type:"button",fillMode:"flat",onClick:x,"aria-label":f.toLanguageString(n.flatColorPickerClearBtn,n.messages[n.flatColorPickerClearBtn]),icon:"droplet-slash",svgIcon:h.dropletSlashIcon}),R&&t.createElement("div",{className:"k-coloreditor-preview k-vstack"},t.createElement("span",{className:"k-coloreditor-preview-color k-color-preview",style:{background:c}}),t.createElement("span",{className:"k-coloreditor-current-color k-color-preview",style:{background:C},onClick:T})))),t.createElement("div",{className:"k-coloreditor-views k-vstack"},u?t.createElement(z.ColorGradient,{ref:G,role:"none",tabIndex:-1,ariaLabel:void 0,value:c,onChange:B,onFocus:N,opacity:e.opacity,format:e.format}):t.createElement(_.ColorPalette,{ariaDisabled:!0,ariaLabelledBy:"required_label",value:c,onChange:B,onFocus:N})),k&&t.createElement("div",{className:"k-coloreditor-footer k-actions k-actions-end"},t.createElement(d.Button,{type:"button",className:"k-coloreditor-cancel",onClick:M},n.messages[n.flatColorPickerCancelBtn]),t.createElement(d.Button,{type:"button",className:"k-coloreditor-apply k-primary",onClick:F},n.messages[n.flatColorPickerApplyBtn]))))}),K={id:l.string,style:l.any,className:l.string,value:l.string,defaultValue:l.string,onPreviewChange:l.func,onChange:l.func,opacity:l.bool,format:l.any,tabIndex:l.number,ariaLabel:l.string,ariaLabelledBy:l.string,disabled:l.bool,view:l.any,header:l.any,showClearButton:l.bool,showPreview:l.bool,showButtons:l.bool};y.displayName="KendoFlatColorPicker";y.propTypes=K;exports.FlatColorPicker=y;
